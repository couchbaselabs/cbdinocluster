## DinoCerts

cbdinocluster supports managing a clusters certificates in the context
of docker deployments. This is primarily useful for DNS and Load Balancer
tests where in order to support SSL, custom node certificates or load
balancer certificates need to be generated by a CA.

### Determinism

The test keys generated by dinocerts are intentionally highly insecure
and use a deterministic mechanism to avoid the need to store certificates
that are being used for clusters. Each layer of certificates is
deterministically generated by using a seed value, which is typically
the dinocluster identifier for that layer. Additionally, each machine
uses a machine-id to generate the root certificate.

### CA Structure

In order to support a variety of testing paths, the following structure
describes how certificates are generated by dinocert.

- Dino Root CA (Seeded on Machine ID)
  - Cluster 1 CA (Seeded by Cluster ID)
    - Node 1 Certificate (Seeded by Node ID)
    - Node 2 Certificate (Seeded by Node ID)
    - Node 3 Certificate (Seeded by Node ID)
    - Nginx Certificate (Seeded by Node ID)
  - Cluster 2 CA (Seeded by Cluster ID)
    - Node 1 Certificate (Seeded by Node ID)
    - Node 2 Certificate (Seeded by Node ID)
    - Node 3 Certificate (Seeded by Node ID)
    - Nginx Certificate (Seeded by Node ID)

### Accessing Certificates

Fetching your dino-cluster CA certificate:

```
cbdinocluster certificates get-dino-ca
```

Fetching your clusters CA certificate:

```
cbdinocluster certificates get-ca {CLUSTER_ID}
```
